"use strict";(self.webpackChunkreact_project=self.webpackChunkreact_project||[]).push([[111],{9111:function(e,t,n){n.r(t),n.d(t,{default:function(){return Pe}});var i=n(1413),r=n(2982),a=n(885),o=n(2791),l=n(4515),s=n(180),c=n(1286),d=n(5814),u=n(7205),p=n(286),x=n(9911),f=n(8254),h=n(6094),m=n(3353),j=n(8472),g=n(5403),Z=n(3746),v=n(3215),b=n(7660),y=n(9076),S=n(5560),D=n(6015),C=n(4162),P=n(4565),N=n(5953),I=n(1898),M=n(1770),w=n(185),A=n(1758),E=n(5590),G=n(120),k=n(184),R={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,padding:"30px 75px 30px 75px"};function L(e){var t,n=e.onSubmit,l=o.useState(!1),s=(0,a.Z)(l,2),c=s[0],d=s[1],p=(0,o.useState)([]),f=(0,a.Z)(p,2),m=f[0],j=f[1],g=(0,o.useState)([]),Z=(0,a.Z)(g,2),v=Z[0],S=Z[1],C=(0,o.useState)(),N=(0,a.Z)(C,2),I=N[0],M=N[1],L=(0,o.useState)(),U=(0,a.Z)(L,2),T=U[0],B=U[1],z=(0,o.useState)(),F=(0,a.Z)(z,2),O=F[0],V=F[1],H=(0,o.useState)(),Y=(0,a.Z)(H,2),W=Y[0],q=Y[1],_=(0,o.useState)([]),$=(0,a.Z)(_,2),J=$[0],K=$[1],Q=(0,o.useState)(!1),X=(0,a.Z)(Q,2),ee=X[0],te=X[1],ne=(0,o.useState)(!1),ie=(0,a.Z)(ne,2),re=ie[0],ae=ie[1],oe=(0,o.useState)(!1),le=(0,a.Z)(oe,2),se=le[0],ce=le[1],de=function(){te(!1),ae(!1),ce(!1),B(t),M(t),K([]),V(t),q(t),d(!1)};return(0,o.useEffect)((function(){b.Z.get("".concat(y.N.baseApiURL,"projects/members")).then((function(e){j(e.data.data)})),b.Z.get("".concat(y.N.baseApiURL,"projects/costCenter")).then((function(e){S(e.data.data),K(e.data.data)}))}),[]),(0,k.jsxs)("div",{style:{paddingRight:"110px"},children:[(0,k.jsx)(E.Z,{onClick:function(){return d(!0)},color:"primary","aria-label":"add",size:"medium",sx:{margin:1},children:(0,k.jsx)(A.Z,{})}),(0,k.jsx)(w.Z,{open:c,onClose:de,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(D.Z,{sx:R,children:[(0,k.jsx)(P.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"New Member"}),(0,k.jsxs)("div",{children:[(0,k.jsxs)(G.Z,{style:{marginTop:"20px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"})," Name"]}),(0,k.jsx)(h.Z,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,options:(0,r.Z)(m.map((function(e){return{id:e.UserGuID,name:e.FullName,costCenter:e.CostCenterName}}))),getOptionLabel:function(e){return e.name},onChange:function(e,t){!function(e){B(e.id),M(e.name),te(!1);var t=v.filter((function(t){return t.CostCenterName===e.costCenter}));K(t)}(t)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)((0,i.Z)({error:ee,helperText:ee?"please select a member":""},e),{},{label:"Name",margin:"normal",InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{type:"search"})}))}}),(0,k.jsxs)(G.Z,{style:{marginTop:"20px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"})," Cost Center"]}),(0,k.jsx)(h.Z,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,options:(0,r.Z)(J.map((function(e){return{id:e.CostCenterID,name:e.CostCenterName}}))),getOptionLabel:function(e){return e.name},onChange:function(e,t){V(t.name),ae(!1)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)((0,i.Z)({error:re,helperText:re?"please select a CostCenter":""},e),{},{margin:"normal",label:"Cost Center",InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{type:"search"})}))}}),(0,k.jsxs)(G.Z,{style:{marginTop:"20px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"})," Accountability"]}),(0,k.jsx)(h.Z,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,options:["Owner","Contributor"],onChange:function(e,t){!function(e){q(e),ce(!1)}(t)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)((0,i.Z)({error:se,helperText:se?"please select accountability":""},e),{},{margin:"normal",label:"Accountability",InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{type:"search"})}))}}),(0,k.jsx)(u.Z,{style:{margin:"15px"},variant:"contained",onClick:function(){I?O?W?(n({id:T,ProjectUserMappingGuID:null,UserGuID:T,FullName:I,CostCenterName:O,Accountability:W}),de()):ce(!0):ae(!0):te(!0)},children:"Save"}),(0,k.jsx)(u.Z,{style:{margin:"15px"},variant:"outlined",onClick:de,children:"Cancel"})]})]})})]})}var U=n(2271),T=function(e){var t=e.onsubmit,n=e.userMappingEditData,i=e.projectMemberError,c=(0,o.useState)([]),u=(0,a.Z)(c,2),x=u[0],f=u[1],h=(0,o.useState)([]),m=(0,a.Z)(h,2),j=m[0],g=m[1],Z=(0,o.useState)([]),v=(0,a.Z)(Z,2),b=v[0],y=v[1],S=[{field:"FullName",headerName:"Name",width:260,headerAlign:"left",align:"left",editable:!0},{field:"CostCenterName",headerName:"Cost Center",width:260,headerAlign:"left",align:"left",editable:!0},{field:"Accountability",headerName:"Accountability",width:260,headerAlign:"left",align:"left",editable:!0},{field:"actions",type:"actions",headerName:"Actions",headerAlign:"center",width:150,cellClassName:"actions",getActions:function(e){return[(0,k.jsx)(d.Z,{title:"Delete",children:(0,k.jsx)(l.u,{icon:(0,k.jsx)(U.Z,{}),label:"Delete",className:"textPrimary",onClick:function(){return function(e){if(n){var t=j.filter((function(t){return t!==e})),i=b.filter((function(t){return t!==e}));e.Deleted="",g([].concat((0,r.Z)(t),[e])),y((0,r.Z)(i))}else{var a=b.filter((function(t){return t!==e}));x((0,r.Z)(a)),y((0,r.Z)(a))}}(e.row)},color:"error"})})]}}];return(0,o.useEffect)((function(){t(n?j:x)}),[x,j,b]),(0,o.useEffect)((function(){n&&(g((0,r.Z)(n.map((function(e){return{id:e.UserGuID,ProjectUserMappingGuID:e.ProjectUserMappingGuID,UserGuID:e.UserGuID,FullName:e.FullName,CostCenterName:e.CostCenterName,Accountability:e.Accountability}})))),y((0,r.Z)(n.map((function(e){return{id:e.UserGuID,ProjectUserMappingGuID:e.ProjectUserMappingGuID,UserGuID:e.UserGuID,FullName:e.FullName,CostCenterName:e.CostCenterName,Accountability:e.Accountability}})))))}),[]),(0,k.jsxs)("div",{style:{marginBottom:"30px",marginTop:"20px"},children:[(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsxs)("h4",{style:{paddingTop:"10px",paddingLeft:"120px",display:"inline-block",color:"#9c27b0"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"Project Members"]}),(0,k.jsx)(L,{onSubmit:function(e){var t=[].concat((0,r.Z)(x),[e]),n=[].concat((0,r.Z)(j),[e]),i=[].concat((0,r.Z)(b),[e]);g(n),f(t),y(i)}})]}),(0,k.jsx)(p.Z,{style:{minHeight:"200",width:"80%",margin:"auto",borderRadius:"5px"},elevation:1,children:(0,k.jsx)("div",{style:{width:"100%"},children:(0,k.jsx)(s._,{autoHeight:!0,hideFooter:!0,columns:S,rows:b})})}),i&&(0,k.jsx)("span",{style:{color:"red",display:"inline-block",marginLeft:"120px",fontStyle:"italic"},children:"*There should be atleast one member in a project"})]})},B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,padding:"30px 75px 30px 75px"};function z(e){var t,n,i=e.onSubmit,r=o.useState(!1),l=(0,a.Z)(r,2),s=l[0],c=l[1],d=function(){return c(!0)},p=function(){j(n),b(n),N(!1),L(!1),c(!1)},f=(0,o.useState)(),h=(0,a.Z)(f,2),m=h[0],j=h[1],g=(0,o.useState)(),Z=(0,a.Z)(g,2),v=Z[0],b=Z[1],y=(0,o.useState)(!1),S=(0,a.Z)(y,2),C=S[0],N=S[1],I=(0,o.useState)(!1),M=(0,a.Z)(I,2),R=M[0],L=M[1];return(0,o.useEffect)((function(){}),[]),(0,k.jsxs)("div",{style:{paddingRight:"110px"},children:[(0,k.jsx)(E.Z,{onClick:d,color:"primary","aria-label":"add",size:"medium",sx:{margin:1},children:(0,k.jsx)(A.Z,{})}),(0,k.jsx)(w.Z,{open:s,onClose:p,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(D.Z,{sx:B,children:[(0,k.jsx)(P.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"New MileStone"}),(0,k.jsxs)("div",{children:[(0,k.jsxs)(G.Z,{style:{marginTop:"30px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"Name"]}),(0,k.jsx)(x.Z,{value:m,required:!0,error:C,helperText:C?"Empty field!":" ",id:"outlined-required",label:"MileStone Name",margin:"normal",sx:{width:"250px"},onChange:function(e){var t;t=e.target.value,N(""==t),j(t)}}),(0,k.jsx)("br",{}),(0,k.jsxs)(G.Z,{style:{marginTop:"30px"},children:[" ",(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"Description"]}),(0,k.jsx)(x.Z,{value:v,id:"outlined-multiline-static",label:"Description",multiline:!0,rows:4,required:!0,margin:"normal",fullWidth:!0,error:R,helperText:R?"Empty field!":" ",onChange:function(e){var t;t=e.target.value,L(""==t),b(t)}}),(0,k.jsx)(u.Z,{style:{margin:"15px"},variant:"contained",onClick:function(){m&&""!=m?v&&""!=v?(t={id:Math.floor(100*Math.random()),ProjectMileStoneGuID:null,MilestoneName:m,MilestoneDescription:v},i(t),p()):(L(!0),d()):(N(!0),d())},children:"Save"}),(0,k.jsx)(u.Z,{style:{margin:"15px"},variant:"outlined",onClick:p,children:"Cancel"})]})]})})]})}var F=function(e){var t=e.onSubmit,n=e.mileStoneEditDetails,i=(0,o.useState)([]),c=(0,a.Z)(i,2),u=c[0],x=c[1],f=(0,o.useState)([]),h=(0,a.Z)(f,2),m=h[0],j=h[1],g=(0,o.useState)([]),Z=(0,a.Z)(g,2),v=Z[0],b=Z[1];(0,o.useEffect)((function(){n?(console.log(m),t(m)):t(u)}),[u,m]),(0,o.useEffect)((function(){n&&(j((0,r.Z)(n.map((function(e){return{id:e.ProjectMileStoneGuID,ProjectMileStoneGuID:e.ProjectMileStoneGuID,MilestoneName:e.MilestoneName,MilestoneDescription:e.MilestoneDescription}})))),b((0,r.Z)(n.map((function(e){return{id:e.ProjectMileStoneGuID,ProjectMileStoneGuID:e.ProjectMileStoneGuID,MilestoneName:e.MilestoneName,MilestoneDescription:e.MilestoneDescription}})))))}),[]);var y=[{field:"MilestoneName",headerName:"Name",width:260,headerAlign:"left",align:"left",editable:!0},{field:"MilestoneDescription",headerName:"Description",width:500,headerAlign:"left",align:"left",editable:!0},{field:"actions",type:"actions",headerName:"Actions",headerAlign:"center",width:170,cellClassName:"actions",getActions:function(e){return[(0,k.jsx)(d.Z,{title:"Delete",children:(0,k.jsx)(l.u,{icon:(0,k.jsx)(U.Z,{}),label:"Delete",className:"textPrimary",onClick:function(){return function(e){if(n){var t=v.filter((function(t){return t!==e})),i=m.filter((function(t){return t!==e}));e.Deleted="",j([].concat((0,r.Z)(i),[e])),b((0,r.Z)(t))}else{var a=v.filter((function(t){return t!==e}));x((0,r.Z)(a)),b((0,r.Z)(a))}}(e.row)},color:"error"})})]}}];return(0,k.jsxs)("div",{style:{marginBottom:"30px",marginTop:"20px"},children:[(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsx)("h4",{style:{paddingTop:"10px",paddingLeft:"120px",display:"inline-block",color:"#9c27b0"},children:"Project MileStone"}),(0,k.jsx)(z,{onSubmit:function(e){var t=[].concat((0,r.Z)(u),[e]),n=[].concat((0,r.Z)(m),[e]),i=[].concat((0,r.Z)(v),[e]);j(n),x(t),b(i)}})]}),(0,k.jsx)(p.Z,{style:{height:"auto",width:"80%",margin:"auto",borderRadius:"5px"},elevation:1,children:(0,k.jsx)("div",{style:{width:"100%"},children:(0,k.jsx)(s._,{autoHeight:!0,hideFooter:!0,columns:y,rows:v})})})]})},O=n(7892),V=n.n(O),H=n(2016),Y=n(6571),W=n(7792),q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,padding:"30px 75px 30px 75px"};function _(e){var t,n=e.onSubmit,r=o.useState(!1),l=(0,a.Z)(r,2),s=l[0],c=l[1],d=o.useState(V()((new Date).toString())),p=(0,a.Z)(d,2),f=p[0],h=p[1],m=o.useState(V()((new Date).toString())),j=(0,a.Z)(m,2),g=j[0],Z=j[1],v=o.useState(),b=(0,a.Z)(v,2),y=b[0],S=b[1],C=function(){return c(!1)};return(0,k.jsx)(Y._,{dateAdapter:W.y,children:(0,k.jsxs)("div",{style:{paddingRight:"110px"},children:[(0,k.jsx)(E.Z,{onClick:function(){return c(!0)},sx:{"& > :not(style)":{m:1},margin:1},size:"medium",color:"primary","aria-label":"add",children:(0,k.jsx)(A.Z,{})}),(0,k.jsx)(w.Z,{open:s,onClose:C,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(D.Z,{sx:q,children:[(0,k.jsx)(P.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"New Budget"}),(0,k.jsxs)("div",{children:[(0,k.jsxs)(G.Z,{style:{marginTop:"10px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"})," Man Hours"]}),(0,k.jsx)(x.Z,{error:0===y||""==y,helperText:0===y||""==y?"InValid Input":" ",style:{marginLeft:"10px"},required:!0,id:"outlined-required",label:"Man Hours",margin:"normal",value:y,onChange:function(e){var t;t=e.target.value,S(t)}}),(0,k.jsxs)(G.Z,{style:{marginTop:"10px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"})," Start Date"]}),(0,k.jsx)("span",{style:{display:"inline-block",margin:"10px"},children:(0,k.jsx)(H.$,{label:"Date desktop",inputFormat:"MM/DD/YYYY",value:f,onChange:function(e){h(e)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)({},e))}})}),(0,k.jsxs)(G.Z,{style:{marginTop:"20px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"})," End Date"]}),(0,k.jsx)("span",{style:{display:"inline-block",margin:"10px"},children:(0,k.jsx)(H.$,{label:"Date desktop",inputFormat:"MM/DD/YYYY",value:g,onChange:function(e){Z(e)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)({},e))}})}),(0,k.jsx)(u.Z,{style:{margin:"15px"},variant:"contained",onClick:function(){y?(t={id:Math.floor(100*Math.random()),ProjectBudgetGuID:null,EffortInManHours:y,StartDate:null===f||void 0===f?void 0:f.format("YYYY-MM-DD"),EndDate:null===g||void 0===g?void 0:g.format("YYYY-MM-DD")},n(t),C()):S(0)},children:"Save"}),(0,k.jsx)(u.Z,{style:{margin:"15px"},variant:"outlined",onClick:C,children:"Cancel"})]})]})})]})})}var $=function(e){var t=e.onSubmit,n=e.projectBudgetEditDetails,i=e.projectBudgetError,c=o.useState([]),u=(0,a.Z)(c,2),x=u[0],f=u[1],h=o.useState([]),m=(0,a.Z)(h,2),j=m[0],g=m[1],Z=o.useState([]),v=(0,a.Z)(Z,2),b=v[0],y=v[1];(0,o.useEffect)((function(){t(n?j:x)}),[x,j,b]),(0,o.useEffect)((function(){n&&(g((0,r.Z)(n.map((function(e){return{id:e.ProjectBudgetGuID,ProjectBudgetGuID:e.ProjectBudgetGuID,EffortInManHours:e.EffortInManHours,StartDate:e.StartDate,EndDate:e.EndDate}})))),y((0,r.Z)(n.map((function(e){return{id:e.ProjectBudgetGuID,ProjectBudgetGuID:e.ProjectBudgetGuID,EffortInManHours:e.EffortInManHours,StartDate:e.StartDate,EndDate:e.EndDate}})))))}),[]);var S=[{field:"EffortInManHours",headerName:"Man Hours",width:260,headerAlign:"left",align:"left",editable:!0},{field:"StartDate",headerName:"Start Date",width:260,headerAlign:"left",align:"left",editable:!0},{field:"EndDate",headerName:"End Date",width:260,headerAlign:"left",align:"left",editable:!0},{field:"actions",type:"actions",headerName:"Actions",headerAlign:"center",width:150,cellClassName:"actions",getActions:function(e){return[(0,k.jsx)(d.Z,{title:"Delete",children:(0,k.jsx)(l.u,{icon:(0,k.jsx)(U.Z,{}),label:"Delete",className:"textPrimary",onClick:function(){return function(e){if(n){var t=b.filter((function(t){return t!==e})),i=j.filter((function(t){return t!==e}));e.Deleted="",g([].concat((0,r.Z)(i),[e])),y((0,r.Z)(t))}else{var a=b.filter((function(t){return t!==e}));f((0,r.Z)(a)),y((0,r.Z)(a))}}(e.row)},color:"error"})})]}}];return(0,k.jsxs)("div",{style:{marginBottom:"30px",marginTop:"20px"},children:[(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsxs)("h4",{style:{paddingTop:"10px",paddingLeft:"120px",display:"inline-block",color:"#9c27b0"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"Project Budget"]}),(0,k.jsx)(_,{onSubmit:function(e){var t=[].concat((0,r.Z)(x),[e]),n=[].concat((0,r.Z)(j),[e]),i=[].concat((0,r.Z)(b),[e]);g(n),f(t),y(i)}})]}),(0,k.jsx)(p.Z,{style:{height:"auto",width:"80%",margin:"auto",borderRadius:"5px"},elevation:1,children:(0,k.jsx)("div",{style:{width:"100%"},children:(0,k.jsx)(s._,{autoHeight:!0,hideFooter:!0,columns:S,rows:b})})}),i&&(0,k.jsx)("span",{style:{color:"red",display:"inline-block",marginLeft:"120px",fontStyle:"italic"},children:"*There should be atleast one projectbudget in a project"})]})},J=n(4423),K=n(5584),Q=function(e){var t,n,l=e.projectEditDetails,s=e.handleClose,c=e.mileStoneEditDetails,d=e.userMappingEditData,f=e.projectBudgetEditDetails,m=e.contactEditDetails,j=e.getProjects,g=(0,J.Z)(),Z=o.useState(!1),v=(0,a.Z)(Z,2),S=v[0],w=v[1],A=(0,o.useState)(),E=(0,a.Z)(A,2),G=E[0],R=E[1],L=(0,o.useState)(),U=(0,a.Z)(L,2),B=U[0],z=U[1],O=(0,o.useState)(),V=(0,a.Z)(O,2),H=V[0],Y=V[1],W=(0,o.useState)([]),q=(0,a.Z)(W,2),_=q[0],Q=q[1],X=(0,o.useState)([]),ee=(0,a.Z)(X,2),te=ee[0],ne=ee[1],ie=(0,o.useState)([]),re=(0,a.Z)(ie,2),ae=re[0],oe=re[1],le=(0,o.useState)(),se=(0,a.Z)(le,2),ce=se[0],de=se[1],ue=(0,o.useState)(),pe=(0,a.Z)(ue,2),xe=pe[0],fe=pe[1],he=(0,o.useState)(),me=(0,a.Z)(he,2),je=me[0],ge=me[1],Ze=(0,o.useState)(!0),ve=(0,a.Z)(Ze,2),be=ve[0],ye=ve[1],Se=(0,o.useState)(!1),De=(0,a.Z)(Se,2),Ce=De[0],Pe=De[1],Ne=(0,o.useState)(!1),Ie=(0,a.Z)(Ne,2),Me=Ie[0],we=Ie[1],Ae=(0,o.useState)(!1),Ee=(0,a.Z)(Ae,2),Ge=Ee[0],ke=Ee[1],Re=(0,o.useState)(!1),Le=(0,a.Z)(Re,2),Ue=Le[0],Te=Le[1],Be=(0,o.useState)(!1),ze=(0,a.Z)(Be,2),Fe=ze[0],Oe=ze[1],Ve=(0,o.useState)(!1),He=(0,a.Z)(Ve,2),Ye=He[0],We=He[1],qe=(0,o.useState)([]),_e=(0,a.Z)(qe,2),$e=_e[0],Je=_e[1],Ke=(0,o.useState)([]),Qe=(0,a.Z)(Ke,2),Xe=Qe[0],et=Qe[1],tt=(0,o.useState)([]),nt=(0,a.Z)(tt,2),it=nt[0],rt=nt[1],at=(0,o.useState)(!1),ot=(0,a.Z)(at,2),lt=ot[0],st=ot[1],ct=(0,o.useState)(!1),dt=(0,a.Z)(ct,2),ut=dt[0],pt=dt[1],xt=(0,o.useState)([]),ft=(0,a.Z)(xt,2),ht=ft[0],mt=ft[1],jt=(0,o.useState)(),gt=(0,a.Z)(jt,2),Zt=gt[0],vt=gt[1],bt={getMileStoneData:function(e){console.log(e),Je(e)},getProjectBudgetData:function(e){et(e),console.log(Xe)},ProjectUsersData:function(e){console.log(e),rt(e)}};return(0,o.useEffect)((function(){if(l){var e=_.find((function(e){var t;return e.ClientGuID===(null===(t=l[0])||void 0===t?void 0:t.ClientGuID)}));fe(e);var t=ae.find((function(e){var t;if(e.ProjectStatusID===Number(null===(t=l[0])||void 0===t?void 0:t.ProjectStatus))return{id:e.ProjectStatusID,name:e.Status}}));de(t);var n=ht.find((function(e){return e.ContactGuID===m[0].ContactGuID})),i=ht.filter((function(e){var t;return e.ClientGuID===(null===(t=l[0])||void 0===t?void 0:t.ClientGuID)}));ne(i),ge(n),ye(!1),Pe(!0)}else fe("add"),de("add"),ge("add")}),[_,ae,te]),(0,o.useEffect)((function(){b.Z.get("".concat(y.N.baseApiURL,"projects/clients")).then((function(e){return Q(e.data.data),e.data.data})),b.Z.get("".concat(y.N.baseApiURL,"projects/contacts")).then((function(e){return mt(e.data.data),e.data.data})),b.Z.get("".concat(y.N.baseApiURL,"projects/status")).then((function(e){return oe(e.data.data),e.data.data}));l&&(w(!0),R(l[0].ProjectName),Y(l[0].ProjectDescription),z(l[0].ClientGuID))}),[]),(0,k.jsx)("div",{id:"form",children:(0,k.jsx)(p.Z,{elevation:3,children:(0,k.jsxs)(D.Z,{component:"form",noValidate:!0,autoComplete:"on",sx:{width:"100%",height:"auto",backgroundColor:"primary",border:"2px solid lightGrey",borderRadius:1},children:[(0,k.jsx)(C.Z,{direction:"row",spacing:120,style:{marginTop:"2%",textAlign:"center"},children:(0,k.jsx)(P.Z,{sx:{flex:"1 1 100%"},variant:"h5",justifyContent:"flex-start",id:"tableTitle",color:"secondary",children:l?"Edit Project":" New Project"})}),(0,k.jsxs)("div",{style:{border:"2px solid lightGrey",margin:"20px",borderRadius:"4px"},children:[(0,k.jsxs)("div",{style:{border:"1px solid lightGrey",margin:"10px 20px",borderRadius:"4px"},children:[(0,k.jsx)(C.Z,{children:(0,k.jsxs)(N.ZP,{container:!0,spacing:8,style:{display:"flex",justifyContent:"space-around"},children:[(0,k.jsxs)(N.ZP,{item:!0,style:{margin:"10px"},children:[(0,k.jsxs)("label",{htmlFor:"",style:{margin:"5px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"ProjectName"]}),(0,k.jsx)("br",{}),(0,k.jsx)(x.Z,{value:G,id:"outlined-multiline-flexible",label:"ProjectName",multiline:!0,maxRows:4,sx:{width:"300px",margin:"5px"},error:Me,helperText:Me?"InValid Input":"",onChange:function(e){var t;t=e.target.value,we(""==G||!G),R(t)}})]}),(0,k.jsxs)(N.ZP,{item:!0,style:{margin:"10px"},children:[(0,k.jsxs)("label",{htmlFor:"",style:{margin:"5px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"Client"]}),(0,k.jsx)("br",{}),(0,k.jsx)(I.Z,{sx:{mt:0,minWidth:230},children:xe&&(0,k.jsx)(h.Z,{disabled:Ce,options:_,getOptionLabel:function(e){return e.ClientName},defaultValue:xe&&"add"!==xe?xe:null,onChange:function(e,t){!function(e){console.log(e);var t=ht.filter((function(t){return console.log(t),t.ClientGuID===e.ClientGuID}));console.log(t),Te(!1),ne(t),ye(!1),z(e.ClientGuID)}(t)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)((0,i.Z)({error:Ue,helperText:Ue?"InValid Input":"",sx:{width:"300px",margin:"5px"}},e),{},{label:"Clients"}))}})})]}),(0,k.jsxs)(N.ZP,{item:!0,style:{margin:"10px"},children:[(0,k.jsxs)("label",{htmlFor:"",style:{margin:"5px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"Client POC"]}),(0,k.jsx)("br",{}),(0,k.jsx)(I.Z,{sx:{mt:0,minWidth:200},children:je&&(0,k.jsx)(h.Z,{disabled:be,disableClearable:!0,onChange:function(e,t){var n;n=t,Oe(!1),ge(n)},defaultValue:je&&"add"!==je?je:null,options:te,getOptionLabel:function(e){return e.UserPrincipleName},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)((0,i.Z)({error:Fe,helperText:Fe?"InValid Input":"",sx:{width:"300px",margin:"5px"}},e),{},{label:"ClientPOC",InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{type:"search"})}))}})})]})]})}),(0,k.jsx)("br",{}),(0,k.jsxs)(N.ZP,{container:!0,spacing:6,style:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsxs)(N.ZP,{item:!0,style:{width:"61.5%",margin:"10px 20px 20px 30px"},children:[(0,k.jsxs)("label",{htmlFor:"",style:{margin:"5px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"Project Description"]}),(0,k.jsx)("br",{}),(0,k.jsx)(x.Z,{value:H,id:"outlined-multiline-static",label:"Description",multiline:!0,inputProps:{maxLength:2e3},minRows:4,maxRows:10,sx:{width:"100%",margin:"10px 0px"},placeholder:"Description of max 2000 words....",error:Ge,helperText:Ge?"InValid Input":"",onChange:function(e){!function(e){""!=e&&e?e.length>2e3?ke(!0):ke(!1):ke(!0),Y(e)}(e.target.value)}})]}),(0,k.jsxs)(N.ZP,{item:!0,style:{margin:"10px",paddingRight:"15px"},children:[(0,k.jsxs)("label",{htmlFor:"",style:{margin:"5px"},children:[(0,k.jsx)("span",{style:{color:"red"},children:"*"}),"ProjectStatus"]}),(0,k.jsx)("br",{}),ce&&(0,k.jsx)(h.Z,{disableClearable:!0,disablePortal:!1,options:ae,defaultValue:ce&&"add"!==ce?ce:null,getOptionLabel:function(e){return e.Status},onChange:function(e,t){!function(e){vt(e),console.log(e),We(!1),de(e),console.log(ce)}(t)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)((0,i.Z)({error:Ye,helperText:Ye?"InValid Input":"",sx:{width:"300px",margin:"5px"}},e),{},{label:"ProjectStatus",InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{type:"search"}),onChange:function(e){}}))}})]})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{style:{border:"1px solid lightGrey",margin:"10px 20px",borderRadius:"4px"},children:[(0,k.jsx)("label",{htmlFor:"",style:{margin:"15px 0px 15px 30px",textSizeAdjust:"-moz-initial"},children:"MileStone"}),(0,k.jsx)(M.Z,{checked:S,onChange:function(e){w(e.target.checked),l&&w(!0)},inputProps:{"aria-label":"controlled"}}),(0,k.jsx)(K.Z,{fontSize:"small",color:"warning"}),"  ",(0,k.jsx)("span",{style:{display:"inline-block",color:"#ed6c02",fontStyle:"italic"},children:"   If there are no mileStone added projectname and projectdescription will be set as default mileStone"}),S&&(0,k.jsx)(F,{onSubmit:bt.getMileStoneData,mileStoneEditDetails:c})]}),(0,k.jsx)("div",{style:{border:"1px solid lightGrey",margin:"10px 20px",borderRadius:"4px"},children:(0,k.jsx)(T,{onsubmit:bt.ProjectUsersData,userMappingEditData:d,projectMemberError:lt})}),(0,k.jsx)("div",{style:{border:"1px solid lightGrey",margin:"10px 20px",borderRadius:"4px"},children:(0,k.jsx)($,{onSubmit:bt.getProjectBudgetData,projectBudgetEditDetails:f,projectBudgetError:ut})}),(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,k.jsx)(u.Z,{style:{margin:"20px"},variant:"contained",onClick:function(){""!=G&&G||we(!0),""!=H&&H||ke(!0),"add"==xe&&Te(!0),"add"==je&&Oe(!0),"add"==ce&&We(!0),0==Xe.length?pt(!0):pt(!1),0==it.length?st(!0):st(!1),console.log(ce),Zt||vt(ce),t={projectName:G,clientguid:B,projectDescription:H,clientPOC:je.ContactGuID,projectStatus:ce.ProjectStatusID},l?(Je($e?(0,r.Z)($e):(0,r.Z)(c)),rt(it?(0,r.Z)(it):(0,r.Z)(d)),et(Xe?(0,r.Z)(Xe):(0,r.Z)(f)),console.log(t,$e,Xe,it),t&&it.length>0&&Xe.length>0&&(n=[{ProjectDetails:{ProjectGuID:l[0].ProjectGuID,ProjectName:t.projectName,ProjectDescription:t.projectDescription,ClientGuID:t.clientguid,ProjectStatus:Zt.ProjectStatusID},ClientPOC:{ContactGuID:t.clientPOC},MileStoneDetails:0==$e.length?[{ProjectMileStoneGuID:null,MilestoneName:t.projectName,MilestoneDescription:t.projectDescription}]:(0,r.Z)($e),UserMapping:(0,r.Z)(it),ProjectBudget:(0,r.Z)(Xe)}],console.log(n),b.Z.patch("".concat(y.N.baseApiURL,"projects/").concat(l[0].ProjectGuID),n).then((function(e){200==e.data.code&&(g("success","success"),s())})),console.log(n),j())):t&&it.length>0&&Xe.length>0&&(n=[{ProjectDetails:{ProjectName:t.projectName,ProjectDescription:t.projectDescription,ClientGuID:t.clientguid,ProjectStatus:t.projectStatus},ClientPOC:{ContactGuID:t.clientPOC},MileStoneDetails:0==$e.length?[{MileStoneName:t.projectName,MileStoneDescription:t.projectDescription}]:(0,r.Z)(null===$e||void 0===$e?void 0:$e.map((function(e){return{MileStoneName:e.MileStoneName,MileStoneDescription:e.mileStoneDescription}}))),UserMapping:(0,r.Z)(null===it||void 0===it?void 0:it.map((function(e){return{UserGuID:e.UserGuID,Accountability:e.Accountability}}))),ProjectBudget:(0,r.Z)(null===Xe||void 0===Xe?void 0:Xe.map((function(e){return{EffortInManHours:e.EffortInManHours,StartDate:e.StartDate,EndDate:e.EndDate}})))}],b.Z.post("".concat(y.N.baseApiURL,"projects"),n).then((function(e){200==e.data.code&&(g("success","success"),s())})),console.log(n),j())},children:"Save"}),(0,k.jsx)(u.Z,{style:{margin:"20px"},variant:"outlined",onClick:s,children:"Cancel"})]})]})]})]})})})},X=n(4942),ee=n(3366),te=n(7462),ne=(n(8457),n(8182)),ie=n(4419),re=n(6863),ae=n(5873),oe=n(5878),le=n(1217);function se(e){return(0,le.Z)("MuiAvatar",e)}var ce=(0,oe.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),de=(0,n(1245).Z)((0,k.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),ue=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],pe=(0,re.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,te.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,te.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),xe=(0,re.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),fe=(0,re.ZP)(de,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var he=o.forwardRef((function(e,t){var n=(0,ae.Z)({props:e,name:"MuiAvatar"}),i=n.alt,r=n.children,l=n.className,s=n.component,c=void 0===s?"div":s,d=n.imgProps,u=n.sizes,p=n.src,x=n.srcSet,f=n.variant,h=void 0===f?"circular":f,m=(0,ee.Z)(n,ue),j=null,g=function(e){var t=e.crossOrigin,n=e.referrerPolicy,i=e.src,r=e.srcSet,l=o.useState(!1),s=(0,a.Z)(l,2),c=s[0],d=s[1];return o.useEffect((function(){if(i||r){d(!1);var e=!0,a=new Image;return a.onload=function(){e&&d("loaded")},a.onerror=function(){e&&d("error")},a.crossOrigin=t,a.referrerPolicy=n,a.src=i,r&&(a.srcset=r),function(){e=!1}}}),[t,n,i,r]),c}((0,te.Z)({},d,{src:p,srcSet:x})),Z=p||x,v=Z&&"error"!==g,b=(0,te.Z)({},n,{colorDefault:!v,component:c,variant:h}),y=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,ie.Z)(n,se,t)}(b);return j=v?(0,k.jsx)(xe,(0,te.Z)({alt:i,src:p,srcSet:x,sizes:u,ownerState:b,className:y.img},d)):null!=r?r:Z&&i?i[0]:(0,k.jsx)(fe,{className:y.fallback}),(0,k.jsx)(pe,(0,te.Z)({as:c,ownerState:b,className:(0,ne.Z)(y.root,l),ref:t},m,{children:j}))}));function me(e){return(0,le.Z)("MuiAvatarGroup",e)}var je=(0,oe.Z)("MuiAvatarGroup",["root","avatar"]),ge=["children","className","component","componentsProps","max","slotProps","spacing","total","variant"],Ze={small:-16,medium:null},ve=(0,re.ZP)("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:function(e,t){return(0,te.Z)((0,X.Z)({},"& .".concat(je.avatar),t.avatar),t.root)}})((function(e){var t,n=e.theme;return t={},(0,X.Z)(t,"& .".concat(ce.root),{border:"2px solid ".concat((n.vars||n).palette.background.default),boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}}),(0,X.Z)(t,"display","flex"),(0,X.Z)(t,"flexDirection","row-reverse"),t})),be=(0,re.ZP)(he,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})((function(e){var t=e.theme;return{border:"2px solid ".concat((t.vars||t).palette.background.default),boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}}})),ye=o.forwardRef((function(e,t){var n,i=(0,ae.Z)({props:e,name:"MuiAvatarGroup"}),r=i.children,a=i.className,l=i.component,s=void 0===l?"div":l,c=i.componentsProps,d=void 0===c?{}:c,u=i.max,p=void 0===u?5:u,x=i.slotProps,f=void 0===x?{}:x,h=i.spacing,m=void 0===h?"medium":h,j=i.total,g=i.variant,Z=void 0===g?"circular":g,v=(0,ee.Z)(i,ge),b=p<2?2:p,y=(0,te.Z)({},i,{max:p,spacing:m,component:s,variant:Z}),S=function(e){var t=e.classes;return(0,ie.Z)({root:["root"],avatar:["avatar"]},me,t)}(y),D=o.Children.toArray(r).filter((function(e){return o.isValidElement(e)})),C=j||D.length;C===b&&(b+=1),b=Math.min(C+1,b);var P=Math.min(D.length,b-1),N=Math.max(C-b,C-P,0),I=m&&void 0!==Ze[m]?Ze[m]:-m,M=null!=(n=f.additionalAvatar)?n:d.additionalAvatar;return(0,k.jsxs)(ve,(0,te.Z)({as:s,ownerState:y,className:(0,ne.Z)(S.root,a),ref:t},v,{children:[N?(0,k.jsxs)(be,(0,te.Z)({ownerState:y,variant:Z},M,{className:(0,ne.Z)(S.avatar,null==M?void 0:M.className),style:(0,te.Z)({marginLeft:I},null==M?void 0:M.style),children:["+",N]})):null,D.slice(0,P).reverse().map((function(e,t){return o.cloneElement(e,{className:(0,ne.Z)(e.props.className,S.avatar),style:(0,te.Z)({marginLeft:t===P-1?void 0:I},e.props.style),variant:e.props.variant||Z})}))]}))})),Se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function De(e){var t,n=0;for(t=0;t<e.length;t+=1)n=e.charCodeAt(t)+((n<<5)-n);var i="#";for(t=0;t<3;t+=1){i+="00".concat((n>>8*t&255).toString(16)).slice(-2)}return i}function Ce(e){var t=e.setView,n=e.clients,r=e.projectEditDetails,l=e.mileStoneEditDetails,s=e.userMappingEditData,c=(e.projectBudgetEditDetails,e.contactEditDetails),p=e.projectStatus,x=o.useState(!0),f=(0,a.Z)(x,2),h=f[0],m=f[1],j=o.useState(),g=(0,a.Z)(j,2),Z=g[0],v=g[1],b=o.useState(),y=(0,a.Z)(b,2),S=y[0],C=y[1],N=o.useState(),I=(0,a.Z)(N,2),M=I[0],A=I[1],E=function(){m(!1),t(!1)};return o.useEffect((function(){var e,t=n.find((function(e){var t;return e.ClientGuID===(null===(t=r[0])||void 0===t?void 0:t.ClientGuID)}));v(t.ClientName),C(c[0].UserPrincipleName),console.log(l);var i=null===p||void 0===p||null===(e=p.map((function(e){return Number(r[0].ProjectStatus)===e.ProjectStatusID?e.Status:null})))||void 0===e?void 0:e.filter((function(e){return e}));A(i)}),[]),(0,k.jsx)("div",{children:(0,k.jsx)(w.Z,{open:h,onClose:E,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(D.Z,{sx:Se,children:[(0,k.jsx)(P.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:r[0].ProjectName}),(0,k.jsxs)(P.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,k.jsx)("span",{style:{fontWeight:"bold"},children:" Project Description :"})," ",r[0].ProjectDescription]}),(0,k.jsxs)(P.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,k.jsx)("span",{style:{fontWeight:"bold"},children:" Project Status :"})," ",M]}),(0,k.jsxs)(P.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,k.jsx)("span",{style:{fontWeight:"bold"},children:" Client :"})," ",Z]}),(0,k.jsxs)(P.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,k.jsx)("span",{style:{fontWeight:"bold"},children:" ClientPOC :"})," ",S]}),(0,k.jsxs)(P.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,k.jsx)("span",{style:{fontWeight:"bold"},children:" MileStone's :"})," ",l.map((function(e){return(0,k.jsxs)("p",{style:{marginLeft:"20px"},children:[(0,k.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold"},children:"MilestoneName:"}),(0,k.jsx)("span",{children:e.MilestoneName}),(0,k.jsx)("br",{}),(0,k.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold"},children:"Description:"}),(0,k.jsx)("span",{children:e.MilestoneDescription})]})}))]}),(0,k.jsx)(P.Z,{id:"modal-modal-description",sx:{mt:2},children:(0,k.jsx)("span",{style:{fontWeight:"bold"},children:" Members :"})}),(0,k.jsx)(ye,{max:8,style:{display:"flex",justifyContent:"flex-end"},children:s.map((function(e){return(0,k.jsx)(d.Z,{title:e.FullName,children:(0,k.jsx)(he,(0,i.Z)({},(t=e.FullName,{sx:{bgcolor:De(t)},children:"".concat(t[0])})))});var t}))}),(0,k.jsx)(u.Z,{onClick:E,children:"Close"})]})})})}var Pe=function(){var e,t=(0,o.useRef)(null),n=(0,o.useState)([]),D=(0,a.Z)(n,2),C=D[0],P=D[1],N=(0,o.useState)([]),I=(0,a.Z)(N,2),M=I[0],w=I[1],A=(0,o.useState)([]),E=(0,a.Z)(A,2),G=E[0],R=E[1],L=(0,o.useState)([]),U=(0,a.Z)(L,2),T=U[0],B=U[1],z=(0,o.useState)([]),F=(0,a.Z)(z,2),O=F[0],V=F[1],H=(0,o.useState)([]),Y=(0,a.Z)(H,2),W=Y[0],q=Y[1],_=(0,o.useState)(!1),$=(0,a.Z)(_,2),J=$[0],K=$[1],X=o.useState(!1),ee=(0,a.Z)(X,2),te=ee[0],ne=ee[1],ie=(0,o.useState)(),re=(0,a.Z)(ie,2),ae=re[0],oe=re[1],le=(0,o.useState)(),se=(0,a.Z)(le,2),ce=se[0],de=se[1],ue=(0,o.useState)(),pe=(0,a.Z)(ue,2),xe=pe[0],fe=pe[1],he=(0,o.useState)(!1),me=(0,a.Z)(he,2),je=me[0],ge=me[1],Ze=function(){ne(!0),setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),600)},ve=function(e,t){J&&t.length>0?b.Z.get("".concat(y.N.baseApiURL,"projects?").concat(e,"=").concat(t)).then((function(e){P(e.data.data)})):0==t.length&&be()},be=function(){b.Z.get("".concat(y.N.baseApiURL,"projects")).then((function(e){return P((0,r.Z)(e.data.data)),e.data.data}))};(0,o.useEffect)((function(){J||be()}),[J]),(0,o.useEffect)((function(){be();b.Z.get("".concat(y.N.baseApiURL,"projects/clientPOC")).then((function(e){return q((0,r.Z)(e.data.data)),e.data.data})),b.Z.get("".concat(y.N.baseApiURL,"projects/status")).then((function(e){return de(e.data.data),e.data.data})),b.Z.get("".concat(y.N.baseApiURL,"projects/clients")).then((function(e){return fe(e.data.data),e.data.data}))}),[te]);var ye=(0,r.Z)(null===C||void 0===C?void 0:C.map((function(e){var t;if(e)return{id:e.ProjectGuID,projectName:e.ProjectName,description:e.ProjectDescription,clientPOC:W.map((function(t){return t.ProjectGuID===e.ProjectGuID?t.UserPrincipleName:null})).filter((function(e){return e})),status:null===ce||void 0===ce||null===(t=ce.map((function(t){return Number(e.ProjectStatus)===t.ProjectStatusID?t.Status:null})))||void 0===t?void 0:t.filter((function(e){return e}))}}))),Se=[{field:"projectName",headerName:"Project Name",width:250,headerAlign:"left",align:"left"},{field:"description",headerName:"Description",width:400,headerAlign:"left",align:"left"},{field:"clientPOC",headerName:"ClientPOC",width:270,headerAlign:"left",align:"left"},{field:"status",headerName:"Status",width:170,headerAlign:"left",align:"left"},{field:"actions",type:"actions",headerName:"Actions",headerAlign:"center",width:180,cellClassName:"actions",getActions:function(e){var t=e.id;return[(0,k.jsx)(d.Z,{title:"View",children:(0,k.jsx)(l.u,{icon:(0,k.jsx)(Z.Z,{}),label:"view",className:"textPrimary",onClick:function(){return function(e){b.Z.get("".concat(y.N.baseApiURL,"projects/").concat(e)).then((function(e){return 200==e.data.code&&(oe(e.data[0]),w(e.data[1]),R(e.data[2]),B(e.data[3]),V(e.data[4]),ge(!0)),e.data.data}))}(t)},color:"secondary"})}),(0,k.jsx)(d.Z,{title:"Edit",children:(0,k.jsx)(l.u,{icon:(0,k.jsx)(c.Z,{}),label:"Edit",className:"textPrimary",onClick:function(){return function(e){b.Z.get("".concat(y.N.baseApiURL,"projects/").concat(e)).then((function(e){return 200==e.data.code&&(oe(e.data[0]),w(e.data[1]),R(e.data[2]),B(e.data[3]),V(e.data[4])),Ze(),e.data.data}))}(t)},color:"primary"})})]}}];return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{style:{marginBottom:"80px"},children:[(0,k.jsxs)("div",{style:{margin:"0px 20px 20px 30px",display:"flex",flexDirection:"row-reverse"},children:[(0,k.jsx)("span",{style:{display:"inline-block",margin:"70px -20px 0px 30px"},children:(0,k.jsx)(j.CSVLink,{style:{textDecoration:"none"},data:C,children:(0,k.jsx)(u.Z,{variant:"outlined",startIcon:(0,k.jsx)(S.Z,{}),children:"Export CSV"})})}),(0,k.jsx)("span",{style:{display:"inline-block",margin:"auto 0px 0px auto"},children:(0,k.jsx)(u.Z,{variant:"outlined",onClick:function(){K(!J)},startIcon:(0,k.jsx)(v.Z,{}),children:"filter"})}),(0,k.jsx)("span",{style:{display:"inline-block",margin:"auto 0px 0px -30px"},children:(0,k.jsx)(u.Z,{variant:"contained",startIcon:(0,k.jsx)(m.Z,{}),onClick:Ze,children:"New Project"})})]}),J?(0,k.jsx)("div",{children:(0,k.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,k.jsx)(p.Z,{elevation:3,style:{margin:"0px 10px 10px 0px",width:"60%"},children:(0,k.jsx)(x.Z,{sx:{width:"100%"},label:"Search...",id:"fullWidth",onChange:function(e){ve("projectName",e.target.value)},InputProps:{startAdornment:(0,k.jsx)(f.Z,{position:"start",children:(0,k.jsx)(g.Z,{})})}})}),(0,k.jsx)(p.Z,{elevation:3,style:{margin:"0px 0px 10px 3px",width:"20%"},children:(0,k.jsx)(h.Z,{id:"free-solo-demo",style:{width:"100%",margin:""},options:ce,getOptionLabel:function(e){return e.Status},onChange:function(e,t){ve("projectStatus",t.Status)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)((0,i.Z)({},e),{},{label:"ProjectStatus"}))}})}),(0,k.jsx)(p.Z,{elevation:3,style:{margin:"0px 0px 10px 13px",width:"20%"},children:(0,k.jsx)(h.Z,{id:"free-solo-demo",style:{width:"100%"},options:xe,getOptionLabel:function(e){return e.ClientName},onChange:function(e,t){console.log(t),ve("clientGuId",t.ClientGuID)},renderInput:function(e){return(0,k.jsx)(x.Z,(0,i.Z)((0,i.Z)({},e),{},{label:"Clients"}))}})})]})}):null,(0,k.jsx)("div",{style:{height:400,width:"100%"},children:(0,k.jsxs)(p.Z,{elevation:3,children:[je&&(0,k.jsx)(Ce,{clients:xe,setView:ge,projectStatus:ce,projectEditDetails:ae,contactEditDetails:M,mileStoneEditDetails:G,userMappingEditData:T,projectBudgetEditDetails:O}),(0,k.jsx)("div",{style:{height:400,width:"100%"},children:(0,k.jsx)(s._,{columns:Se,rows:ye})})]})}),te&&(0,k.jsx)("div",{id:"formSection",ref:t,style:{height:400,width:"100%",margin:"40px 0px 30px 0px"},children:(0,k.jsx)(Q,{getProjects:be,handleClose:function(){ae&&(oe(e),w(e),R(e),B(e),V(e)),ne(!1)},clientPOCData:W,projectEditDetails:ae,contactEditDetails:M,mileStoneEditDetails:G,userMappingEditData:T,projectBudgetEditDetails:O})})]})})}},4423:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(2791),r=n(1659),a=function(){var e=(0,i.useContext)(r.I).setToaster;return function(t,n){e({type:t,text:n})}}},1758:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddRounded");t.Z=o},2271:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.Z=o},1286:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=o},3746:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=o}}]);
//# sourceMappingURL=111.6a730a62.chunk.js.map